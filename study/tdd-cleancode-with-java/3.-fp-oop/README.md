# 미션3. 사다리타리 - FP, OOP

## 학습 목표

### 경험해야할 학습 목표

* 자바 8의 스트림, 람다를 사용해 함수형 프로그래밍하는 경험
* in -> out, out->in 방식으로 도메인 객체를 설계하는 경험
* 책임주도 설계 기반으로 인터페이스 활용해 프로그래밍하는 연습

### 경험할 객체지향 생활 체조 원칙

* 규칙4: 한 줄에 점을 하나만 찍는다.
  * clean code 가이드의 디미터 법칙을 지키는 것을 의미한다.
* 규칙6: 모든 엔티티를 작게 유지한다.
* 규칙7: 3개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.
* 규칙9: 게터/세터/프로퍼티를 쓰지 않는다.

## Clean Code 가이드

### 객체와 자료 구조

자료/객체

* 객체는 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다.
* 자료 구조는 자료를 그대로 공개하며 별다른 함수는 제공하지 않는다.

디미터 법칙

* 디미터 법칙은 '모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다'는 법칙이다.
* 객체는 자료를 숨기고 함수를 공개한다. 즉, 객체는 조회 함수로 내부 구조를 공개하면 안 된다는 것이다.
* 다음 코드는 디미터 법칙을 어기는 것으로 보인다.

```java
final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
```

자료 전달 객체

* 자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스다. 이런 자료 구조체를 Data Transfer Object(DTO)라고 한다.
* 자바에서 DTO의 일반적인 형태는 '자바 빈(java bean)' 구조이다.

### 클래스

클래스는 작아야 한다.

* 클래스를 만들 때 첫 번째 규칙은 크기다. 클래스는 작아야 한다. 두 번째 규칙도 크기다. 더 작아야 한다.
* 단일 책임 원칙(single responsibility principle)은 클래스나 모듈을 변경할 이유가 하나, 단 하나뿐이어야 한다는 원칙이다.
* 클래스는 책임, 즉 변경할 이유가 하나여야 한다는 의미다.
* 응집도(cohesion) - 클래스는 인스턴스 변수 수가 작아야 한다.
* 응집도를 유지하면 작은 클래스 여럿이 나온다.
* 큰 함수를 작은 함수 여럿으로 쪼개다 보면 종종 작은 클래스 여럿으로 쪼객 기회가 생긴다. 그러면서 프로그램에 체계가 더 작히고 구조가 더 투명해 진다.

변경하기 쉬운 클래스

* 요구사항은 변화기 마련이다. 따라서 코드도 변하기 마련이다.
* 구현 클래스에 의존하게 된면 테스트가 어려우면, 변화에 빠르게 대응하기 힘들다. 변화에 빠르게 대응하려면 DIP원칙을 지키는 습관을 가져야 한다.
* dip(dependency inversion principle)원칙은 클래스가 상세한 구현이 아니라 추상화(인터페이스)에 의존해야 한다는 원칙이다.
* 테스트가 가능할 정도로 시스템 결합도를 낮추면 유연성과 재사용성도 더 높아진다.







